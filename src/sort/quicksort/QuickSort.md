# 快速排序分析

## 1 交换方法

### 方法1：两边向中间遍历

从两边向中间遍历，然后把比pivot小值交换到左边，比pivot大的值交换到右边。

### 方法2：其他

## 2 时间复杂度分析

+ 最优时间复杂度:O(nlogn)，因为当数组为正序或是逆序的时候，代码无法知道数组是否有序，所以还会继续递归比较，所以最优的时间不是O(n)。
  
+ 最差时间复杂度:O(n^2)；

## 3 代码优化

### 3.1 减少交换

用【替换】操作来代替【交换】操作

### 3.2 减少递归

采用“【尾递归】”的方法来减少递归，


![尾递归分析](/res/1.jpg)

<center>尾递归分析 </center>

**参考**


《大话数据结构》 P427
[什么是尾递归？ - Coke Zero的回答 - 知乎](https://www.zhihu.com/question/20761771/answer/92233964)

[严蔚敏的数据结构中讲快速排序的疑问？ - hdyjzdj的回答 - 知乎](https://www.zhihu.com/question/43038278/answer/111376160)


### 3.3 合理选择pivot

 合理选取pivot，比如选取
 array[startIndex],array[endIndex]，/array[(startIndex+endIndex)/2]三个值的中值作为pivot

### 3.4 优化小数组时的排序方案

当high - low <= 7 (参考《大话数据结构》)时，就用直接插入排序。
